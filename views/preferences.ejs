<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title> 
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="/stylesheets/index.css" />
     <script>

  function createNewCheckboxt(name, id){
    var checkbox = document.createElement('input'); 
    checkbox.type= 'checkbox';
    checkbox.name = name;
    checkbox.id = id;
    return checkbox;
}
  </script>


  </head>
 
  <body>
 
    
  <form id="userPreferences" action="/preferences" method="post">
    <div class="container">
        <div class="row">
            <div class="page-header col-xs-10 col-xs-offset-1">
                <h1 class="page-title">Headlines</h1>
            </div>

            <ul class="nav nav-platforms col-xs-10 col-xs-offset-1">
                <li role="presentation" class="active"><a href="/" name="home">Home</a></li>
            </ul>
        </div>
    </div>

 	
  <p class ="text-center"> Welcome to the News Application Headlines, <%= user.username %>!</p>
<p class ="text-center"> Please select from the following News Sources to be in your Newsfeed.
<p class ="text-center"><b> Source Options:</b> </p>

 <!-- ========== ENUMS for check boxes ========== -->

 <div class="row">
	<div class="col-xs-4"></div>
	<div class="col-xs-4">
	<div class="checkbox">

	<%var newsEnum = {
		Fox: "http://feeds.foxnews.com/foxnews/latest", 
		CNN: "http://rss.cnn.com/rss/cnn_topstories.rss", 
		CNBC: "http://www.cnbc.com/id/100003114/device/rss/rss.html", 
		BBC: "http://feeds.bbci.co.uk/news/rss.xml?edition=uk", 
		Yahoo: "http://apps.shareholder.com/rss/rss.aspx?channels=632&companyid=YHOO&sh_auth=4350265862%2E0%2E0%2E42851%2E51676db2d98fa83fe60151eb8eced4b5",
		XKCD: "https://xkcd.com/rss.xml" 	
	};
	//set all checkboxes to empty
	if(user.favSources == null || user.favSources.length <= 0){ 
		for(news in newsEnum){%>
		<label><input type="checkbox" id = news  name="news" value = newsEnum[news] > <%= news %></label>

		</div>
	</div>
	<div class="col-xs-4"></div>
	</div>
	
	<div class="row">
	<div class="col-xs-4"></div>
	<div class="col-xs-4">
	<div class="checkbox">
	<%  } 
	} else{
	
	for(news in newsEnum){%>
		<% if(user.favSources.indexOf(newsEnum[news].toString().trim()) >= 0){ %>
			
			<label><input type="checkbox" name="news" id= "<%= news %>" value= <%= newsEnum[news] %>  checked> <%= news %></label>
	<% } else { %>
			
			<label><input type="checkbox" name="news" id= <%= news %> value= <%= newsEnum[news]%> > <%= news %></label>
	 <% } %>
	 	 </div>
	</div>
	<div class="col-xs-4"></div>
	</div>
	
	<div class="row">
	<div class="col-xs-4"></div>
	<div class="col-xs-4">
	<div class="checkbox">
	 <%} 
	 }%>

	
<!-- here -->



	<p class ="text-center">     </p>
	
	
	<div class="row">
	<div class="col-xs-4"></div>
	<div class="col-xs-4">
	
	<input type="submit" name="submit" value="Submit">
	</div>
  </form>
  </body>
  </html>